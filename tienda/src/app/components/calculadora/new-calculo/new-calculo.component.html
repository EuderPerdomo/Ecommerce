<!-- <app-nav></app-nav> -->

<form id="regForm" action="">

  <div id="0" class="tab collapse">
    <section>
      <h1>Paso 1: Datos de la instalación</h1>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label for="exampleFormControlSelect1">Departamento</label>
            <!-- <select class="form-control" id="departamento" name="departamento" aria-describedby="Departamento-help"
                  onchange="ShowSelected();"> -->

            <select class="form-control" id="departamento" name="departamento" aria-describedby="Departamento-help">

              <option [ngValue]="0">Seleccione un Departamento</option>
              <option [ngValue]="1">uno</option>

            </select>
            <small id="Departamento-help" class="form-text text-muted">Departamento en donde sera instalado el sistema
              solar</small>

          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label id="radiacion">Radiación</label>
            <!-- <label name="lbl" id="lbl"></label> -->
            <input type="number" class="form-control" id="lbl" name="lbl" aria-describedby="radiacionHelp" value="4"
              disabled="true">
            <small id="emailHelp" class="form-text text-muted">Hace referencia a las Horas sol pico (HSP) para cada
              lugar especifico.</small>
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group">
            <label for="exampleInputName">Nombre del Cliente</label>
            <input type="text" class="form-control" id="exampleInputName" name="nombre_cliente"
              (keyup)="cambio(nombre_cliente)" [(ngModel)]="nombre_cliente">
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group">
            <label for="exampleInputEmail1">Email</label>
            <input type="email" class="form-control" id="exampleInputEmail" aria-describedby="emailHelp">
            <small id="emailHelp" class="form-text text-muted">Email cliente</small>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Inicia parte 2  Registro de Dispositivos-->
  <div id="1" class="tab main-content">
    <div class="container-fluid">
      <div class="row justify-content-center">

        <!-- Inicio Formulario -->
        <form #registroForm="ngForm" (ngSubmit)="registro(registroForm)">
          <div class="card">
            <div class="card-header">
              <h4 class="card-header-title">
                Registro de Dispositivos
              </h4>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="row">
                  <div class="col-lg-2 form-group">
                    <label for="">Nombre</label>
                    <input type="text" class="form-control" placeholder="Nombre" required name="nombre_equipo"
                      [(ngModel)]="nombre_equipo0">
                  </div>
                  <div class="col-lg-2 form-group">
                    <label for="">Potencia (W)</label>
                    <input type="number" class="form-control" placeholder="Potencia" required name="potencia0"
                      [(ngModel)]="potencia0" (ngModelChange)="cambio(potencia0)">
                  </div>
                  <div class="col-lg-2 form-group">
                    <label for="">Cantidad </label>
                    <input type="number" class="form-control" placeholder="Cantidad" required name="cantidad0"
                      [(ngModel)]="cantidad0" (ngModelChange)="cambio(cantidad0)">
                  </div>

                  <div class="col-lg-2 form-group">
                    <label for="">Consumo Hora (W)</label>
                    <input type="number" class="form-control" name="wtotal0" readonly value="{{w_totales}}"
                      name="wtotal0" [(ngModel)]="wtotal0">
                  </div>

                  <div class="col-lg-2 form-group">
                    <label for="">Uso diario (H)</label>
                    <input type="number" class="form-control" placeholder="Cantidad" required name="horas_uso_dia0"
                      [(ngModel)]="horas_uso_dia0" (ngModelChange)="cambio(horas_uso_dia0)">
                  </div>

                  <div class="col-lg-2 form-group">
                    <label for="">Consumo Total Diario (W)</label>
                    <input type="number" class="form-control" name="wtotal0" readonly value="{{promedio0}}"
                      name="promedio0" [(ngModel)]="promedio0">
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer">
              <button *ngIf="!editando" class="btn btn-primary btn-shadow" type="submit"
                (click)="addCampo()">Agregar</button>
              <button *ngIf="editando" class="btn btn-primary btn-shadow" type="submit"
                (click)="guardarEditarCampo()">Editar</button>
              <button *ngIf="editando" class="btn btn-danger btn-shadow" type="submit"
                (click)="cancelarEditarCampo()">Cancelar</button>
            </div>
          </div>
        </form>
        <!-- Fin formulario -->
        <div class="card mt-30 mb-30">
          <div class="table-responsive">
            <!-- <table class="table table-sm table-nowrap card-table" name="tabla" [(ngModel)]="tabla"> -->
            <table class="table table-hover table-nowrap table-sm" name="tabla" [(ngModel)]="tabla">
              <thead>
                <tr>
                  <th>Codigo</th>
                  <th>Equipo</th>
                  <th>Potencia</th>
                  <th>Cantidad</th>
                  <th>Consumo por horas</th>
                  <th>Horas Uso Diario</th>
                  <th>Consumo total Diario</th>
                  <th>Opciones</th>
                </tr>
              </thead>
              <tbody class="font-size-base">
                <tr *ngFor="let item of valores; index as i">
                  <td>
                    {{item.codigo}}
                  </td>
                  <td>
                    {{item.nombre}}
                  </td>
                  <td>
                    {{item.potencia}}
                  <td>
                    {{item.cantidad}}
                  </td>
                  <td>
                    {{item.w_totales}}
                  </td>
                  <td>
                    {{item.horas_dia}}
                  </td>
                  <td>
                    {{item.consumo_diario}}
                  </td>
                  <td>
                    <button class="btn btn-primary btn-shadow" (click)="editarFila(item)">Editar</button>
                    <button class="btn btn-danger btn-shadow" (click)="borrar(item.codigo)">Eliminar</button>
                  </td>
                </tr>
              </tbody>
              <tbody>
                <tr>
                  <td colspan="5" class="text-center">
                    <div class="spinner-border text-primary" role="status">
                      <span class="visually-hidden"></span>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="card-footer">
            <!-- Title -->
            <h3 class="card-header-title">
              Consumo simultaneo: {{simultaneo}} W
            </h3>
            <h3 class="card-header-title">
              consumo total diario. {{total_dia}} W
            </h3>

          </div>

        </div>
      </div>
    </div>
  </div>
  <!-- Finaliza parte 2 -->

  <!--Inicia Paso 3 Tension del sistema y tipo de controlador  -->
<div id="2" class="tab main-content">
  <div class="container-fluid">
      <div class="row justify-content-center">


<!-- Inicio Formulario -->
<form #registroForm="ngForm" (ngSubmit)="registro(registroForm)">
  <div class="card">
    <div class="card-header">
      <h4 class="card-header-title">
        Seleccion de Controlador y Tension del Sistema
      </h4>
    </div>
    <div class="card-body">
      <div class="row">


        <div class="col-lg-6 form-group">
          <label for="">Tension</label>
          <select class="form-control custom-select" id="select-tension" required name="tension" [(ngModel)]="tension">
              <option value="0" selected disabled>Seleccionar</option>
              <!-- <option value="{{item._id}}" *ngFor="let item of categorias">{{item.titulo}}</option> -->
              <option value="1" >12V</option>
              <option value="2" >24V</option>
              <option value="3" >48V</option>
          </select>
      </div>

      <div class="col-lg-6 form-group">
        <label for="">Tipo Controlador</label>
        <select class="form-control custom-select" id="select-tipo" required name="tipo_controlador" [(ngModel)]="tipo_controlador">
            <option value="0" selected disabled>Seleccionar</option>
            <!-- <option value="{{item._id}}" *ngFor="let item of categorias">{{item.titulo}}</option> -->
            <option value="1" >PWM</option>
            <option value="2" >MPPT</option>

        </select>
    </div>

           
      </div>
    </div>
    <div class="card-footer">
        <button  *ngIf="!editando" class="btn btn-primary btn-shadow" type="submit" (click)="addCampo()">Agregar</button>
        <button  *ngIf="editando" class="btn btn-primary btn-shadow" type="submit" (click)="guardarEditarCampo()">Editar</button>
        <button  *ngIf="editando" class="btn btn-danger btn-shadow" type="submit" (click)="cancelarEditarCampo()">Cancelar</button>
    </div>
  </div>
</form>
<!-- Fin formulario -->


        </div>
        </div>
        </div>

<!-- Finaliza paso 3 -->

  <!--Inicia Paso 4 Calculo de Paneles Solares  -->
<div id="3" class="tab main-content">
  <div class="container-fluid">
      <div class="row justify-content-center">


<!-- Inicio Formulario -->
<form #registroForm="ngForm" (ngSubmit)="registro(registroForm)">
  <div class="card">
    <div class="card-header">
      <h4 class="card-header-title">
        Selección de Paneles Solares
      </h4>
    </div>
    <div class="card-body">
      <div class="row">


        <div class="col-lg-12 form-group">
          <label for="">Paneles</label>
          <select class="form-control custom-select" id="select-tension" required name="panel" [(ngModel)]="panel">
              <option value="0" selected disabled>Seleccionar</option>
              <!-- <option value="{{item._id}}" *ngFor="let item of categorias">{{item.titulo}}</option> -->
              <option value="150" >Talesum 150W</option>
              <option value="300" >Talesum 300W</option>
              <option value="450" >Talesum 450W</option>
          </select>
      </div>
      </div>
    </div>
    <div class="card-footer">
    </div>
  </div>
</form>
<!-- Fin formulario -->
        </div>
        </div>
        </div>
<!-- Finaliza paso 4 -->

<!--Inicia Paso 5 Baterias  -->
<div id="4" class="tab main-content">
  <div class="container-fluid">
      <div class="row justify-content-center">
<!-- Inicio Formulario -->
<form #registroForm="ngForm" (ngSubmit)="registro(registroForm)">
  <div class="card">
    <div class="card-header">
      <h4 class="card-header-title">
        Selección de Baterias
      </h4>
    </div>
    <div class="card-body">
      <div class="row">


        <div class="col-lg-4 form-group">
          <label for="">Amperaje</label>
          <select class="form-control custom-select" id="select-amperaje" required name="amperaje" [(ngModel)]="amperaje">
              <option value="0" selected disabled>Seleccionar</option>
              <!-- <option value="{{item._id}}" *ngFor="let item of categorias">{{item.titulo}}</option> -->
              <option value="75" >75A</option>
              <option value="150" >150A</option>
              <option value="200" >200A</option>
          </select>
      </div>
      <div class="col-lg-4 form-group">
        <label for="">Profundidad de descarga</label>
        <select class="form-control custom-select" id="select-profundidad" required name="profundidad" [(ngModel)]="profundidad">
            <option value="0" selected disabled>Seleccionar</option>
            <!-- <option value="{{item._id}}" *ngFor="let item of categorias">{{item.titulo}}</option> -->
            <option value="1">10% Cantidad de Baterías Elevado</option>
                <option value="2">20%</option>
                <option value="3">30%</option>
                <option value="4">40%</option>
                <option value="5">50% Recomendada</option>
                <option value="6">60%</option>
                <option value="7">70%</option>
                <option value="8">80%</option>
                <option value="9">90%</option>
                <option value="10">100% No recomendada</option>
        </select>
    </div>

    <div class="col-lg-4 form-group">
      <label for="">Días de Autonomia</label>
      <select class="form-control custom-select" id="select-dias" required name="dias" [(ngModel)]="dias">
          <option value="0" selected disabled>Seleccionar</option>
          <!-- <option value="{{item._id}}" *ngFor="let item of categorias">{{item.titulo}}</option> -->
          <option value="1" >1 Día</option>
            <option value="2" >2 Días</option>
            <option value="3" >3 Días</option>
      </select>
  </div>      
      </div>
    </div>
    <div class="card-footer">
    </div>
  </div>
</form>
<!-- Fin formulario -->
        </div>
        </div>
        </div>
<!-- Finaliza paso 5 -->

  <div style="overflow:auto;">
    <div style="float:right;">

      <button type="button" style.display="{{displayPrevBtn }}" (click)="nextPrev(-1)">Previous</button>
      <button type="button" id="nextBtn" style.display="{{displayNextBtn }}" (click)="nextPrev(1)">Next</button>
    </div>
  </div>

  <!-- Circles which indicates the steps of the form: -->
  <div style="text-align:center;margin-top:40px;">
    <span class="step"><img src="https://img.freepik.com/vector-gratis/hermosa-casa_24877-50819.jpg" alt=""></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
  </div>
</form>

<!-- <app-footer></app-footer> -->